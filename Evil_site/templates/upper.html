{% load static %}
<!DOCTYPE html>
<html lang="ru">
	<head>
		<!--meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"-->
		<meta name="Description" content="Evil">
		<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
		<title>Evil</title>
		<link rel="icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
		<link rel="shortcut icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
		<script src="{% static 'scripts/jquery.min.js' %}" type="text/javascript"></script>
		<script>
			var ACCOUNTS_URL, LOAD_MUSIC_URL, LOAD_MUSICLIST_URL, ADD_TO_MUSICLIST_URL;
			ACCOUNTS_URL="{% url 'accounts:accounts' %}";
			LOAD_MUSIC_URL="{% url 'music:music' %}";
			LOAD_MUSICLIST_URL="{% url 'music:musiclist' %}";
			ADD_TO_MUSICLIST_URL="{% url 'music:addtomusiclist' %}";

			var PLAYER_URL, UPLOAD_URL, LOGIN_URL, LOGOUT_URL, TOP_NAV, USER_DATA_URL, INFO_URL;
			
			LOGIN_URL = "{% url 'accounts:login' %}";
			LOGOUT_URL = "{% url 'accounts:logout' %}";

			USER_DATA_URL = "{% url 'accounts:accounts' %}";
			INFO_URL = "{% url 'accounts:info' %}";

			PLAYER_URL = "{% url 'music:player' %}";
			UPLOAD_URL = "{% url 'music:upload' %}";

			TOP_NAV = [{title: "{{user.username}}", url: "", id: "username"},
				{title: "Плеер", url: PLAYER_URL},
				{title: "Добавить", url: UPLOAD_URL},
				{title: "Выйти", url: LOGOUT_URL},];

		</script>
		<script src="{% static 'scripts/Base.js' %}"></script>
		<link rel="stylesheet" href="{% static 'css/main.css' %}">
	</head>
	<body>
		<div class="topnav">
			<ul id="topnav">
				<svg width="50" height="50" viewBox="0 0 130 130" fill="none" class="logo" style="display: inline-block; padding-left: 8px; padding-right: 0px;" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
					<path d="M105 19V60" stroke="currentColor" stroke-width="5" stroke-linecap="round"/>
					<path d="M15 92L27 87" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
					<path d="M25 19L45 40" stroke="currentColor" stroke-width="5" stroke-linecap="round"/>
					<path d="M25 19L25 59" stroke="currentColor" stroke-width="5" stroke-linecap="round"/>
					<path d="M15 65L27 74" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
					<path d="M45 59V70" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
					<path d="M118 65L106 74" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
					<path d="M60 89H71" stroke="currentColor" stroke-width="5" stroke-linecap="round"/>
					<path d="M30 101L39.625 111L64.5625 111L90.375 111L100 101" stroke="currentColor" stroke-width="5" stroke-linecap="round"/>
					<path d="M118 92L106 87" stroke="currentColor" stroke-width="5" stroke-linecap="round"/>
					<path d="M85 59V70" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
					<path d="M105 19L85 40" stroke="currentColor" stroke-width="5" stroke-linecap="round"/>
					<path d="M53 40L77 40" stroke="currentColor" stroke-width="6" stroke-linecap="round"/>
				</svg>
			</ul>
			<span class="dropbtn" onclick="changeTheme()"><ion-icon name="sunny-outline" id="sun-changeTheme" ></ion-icon><ion-icon name="moon-outline" id="moon-changeTheme"></ion-icon></span>
		</div>
		<div id="SiteMessages"></div>
		<script type="text/javascript">
			changeTheme(localStorage.getItem("theme")=="dark");
			var SiteMessages, username_el;
			SiteMessages = document.getElementById("SiteMessages");
			SetTopnav();
			if(window.location.pathname != "/login") {
				username_el = document.getElementById("username");
				username_el.style.display = "none";
			}
		</script>
		<script type="text/javascript">
			get_user_data();
			//changeTheme(localStorage.getItem("theme")=="dark");
		</script>
		<div class="display">